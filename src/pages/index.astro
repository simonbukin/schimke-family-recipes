---
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";
import Search from "../components/Search.svelte";

const buttons = [
  {
    name: "breakfast",
    emoji: "🍳",
    bg: "bg-emerald-200",
    border: "border-emerald-400",
  },
  {
    name: "entree",
    emoji: "🍲",
    bg: "bg-sky-200",
    border: "border-sky-400",
  },
  {
    name: "dessert",
    emoji: "🍰",
    bg: "bg-violet-200",
    border: "border-violet-400",
  },
  {
    name: "snack",
    emoji: "🍿",
    bg: "bg-pink-200",
    border: "border-pink-400",
  },
  {
    name: "drink",
    emoji: "🍹",
    bg: "bg-lime-200",
    border: "border-lime-400",
  },
  {
    name: "epicure",
    emoji: "🍽️",
    bg: "bg-cyan-200",
    border: "border-cyan-400",
  },
];

const recipes = await getCollection("recipes");
---

<Layout title="Schimke Family Recipes">
  <main class="min-h-screen bg-orange-50">
    <header class="bg-amber-500 p-3 shadow-md mb-8">
      <h1
        class="max-w-lg sm:max-w-xl mx-auto font-display text-center text-2xl sm:text-3xl text-white"
      >
        Schimke Family Recipes
      </h1>
    </header>

    <section class="p-4 max-w-lg sm:max-w-xl mx-auto">
      <ul class="flex flex-row justify-between">
        {
          buttons.map((button) => {
            return (
              <li>
                <a
                  href={`/category/${button.name}`}
                  class={`${button.bg} ${button.border} p-2 border-4 text-lg rounded-md`}
                >
                  {button.emoji}
                </a>
              </li>
            );
          })
        }
      </ul>

      <section class="mt-6">
        <Search client:load searchContent={recipes} />
      </section>
    </section>
  </main>
</Layout>

<style>
  .header {
    text-shadow: 0px 0px 50px hsl(0deg 0% 0% / 80%);
  }
</style>
